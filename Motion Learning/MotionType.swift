//
//  MotionType.swift
//  Motion Learning
//
//  Created by Dominic Opitz on 22.09.16.
//  Copyright Â© 2016 Razorfish GmbH. All rights reserved.
//

import Foundation

enum MotionType: String {
    
    case standing, walking, pushing
    
    static let all = [standing, walking, pushing]
    
    static var weights: [Float] {
        return [2.9357059, -0.676671147, -2.97916985, -0.839975953, -4.39316702, -0.239420623, -0.397810102, -0.346766979, 0.319736183, -0.207833648, -0.636982858, -0.0758096501, 0.110981643, 3.02722073, -0.272558779, -4.04597139, -1.00267863, -5.27796125, 0.0353478491, -0.337374121, 0.124996334, -0.268389702, 0.325797737, -1.5471487, 0.564517677, 0.966941655, -0.250748813, -0.416460574, -0.493233413, 0.1375404, -0.0878470466, 0.22386691, 0.0157856513, 0.384097755, 0.425163329, 0.438293517, -0.327565759, -0.257751733, 0.182336494, -0.656613171, -0.414508134, 0.33943224, 0.386580735, 0.852472067, 0.973446786, -0.171447173, -0.266892791, -0.345407873, 0.155322999, 0.16194506, 1.56297219, 0.256178945, -0.277769297, 0.356342524, -0.40335843, 0.303114653, 0.0853860006, 0.189463988, 0.44767341, 0.454073489, -0.159081876, -0.454943955, -0.427096158, -0.0476987585, 0.0580054596, -1.69102442, -0.140972391, 3.26071739, 0.48048538, 5.69798422, -0.851681054, 0.188050196, 0.000441921555, 0.226160645, -0.0141117396, 1.06594992, -0.890204012, -1.24339879, 3.86491489, -0.0188293699, -0.176511407, -0.19405295, -0.791680276, -2.50427222, -0.657281339, 0.252574682, 0.325475991, -0.239312381, -1.99690402, -5.62289333, -2.03821349, -1.83973432, -0.108485408, 2.81222868, 0.64796108, 4.02011061, 0.368537009, 0.504135132, 0.379985511, 0.0398899727, -0.381688148, 0.591245949, -0.430733949, -0.673088431, 2.60054207, -0.271067977, -0.162071735, 0.104316659, -0.678580821, -1.33691418, -0.870769501, -0.424539834, 0.256077111, -0.394445419, -1.20821071, -4.19239998, -1.41384256, -0.577921152, -0.313622743, -0.00744913099, -0.388503641, 0.952294648, 0.787115693, -0.0114549007, 0.0211422704, -0.3669689, 0.444924086, 0.502757072, 1.58751369, 0.557223618, 1.72983611, -0.314366072, -0.486777633, -0.122268848, -0.707672179, -1.33913338, -0.803940833, -0.155816808, -0.00541679794, -0.116733111, -1.19023347, -2.82543039, -0.787371039, -2.5085001, 1.50547206, 0.178105876, -0.559701562, -2.94563222, -0.692487121, -1.28104436, 6.34133482, -2.16391635, 3.89692593, -3.18568897, 2.48903203, 0.250028819, 3.64025903, 5.57460737, -0.159314811, -0.137129247, -0.165142983, -6.01237679, -7.80492496, -3.84716392, -4.73482656, 0.44697997, -3.05659795, -0.36540252, -4.95860291, -5.42925453, -0.494158, 0.547011733, -0.23075442, 4.64300299, -3.01380277, 4.08174944, -1.4579196, 1.04494691, -1.84950149]
    }
    
    var answer: [Float] {
        switch self {
        case .standing:
            return [1,0,0]
        case .walking:
            return [0,1,0]
        case .pushing:
            return [0,0,1]
        }
    }
            
    static func by(output: [Float]) -> MotionType? {
        guard let max = output.sorted(by: >).first, let maxIndex = output.index(of: max), output.count == all.count else {
            return nil
        }
        
        return all[maxIndex]
    }
}
